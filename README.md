**ุขููุฒุด ูุตู ุดุฏู ุจู ุงูุชุฑูุช ุขุฒุงุฏ ุจุง DNS TUNNELING ู Iodine**

ุงู ุฑูพู ฺฉ ุฑุงูููุง ฺฉุงุฑุจุฑุฏ ุจุฑุง ุฏุณุชุฑุณ ุจู ุงูุชุฑูุช ุขุฒุงุฏ ุงุฒ ุทุฑู DNS Tunneling ุจุง ุงุจุฒุงุฑ Iodine ุงุณุช. ุฏุฑ ุงู ุฑูุดุ ุฏุงุฏูโูุง ุจูโุตูุฑุช ูุงูโูุง DNS ุฑูุฒฺฏุฐุงุฑ ู ุงุฑุณุงู ุดุฏู ู ูพุงุณุฎโูุง ุดุงูู ุจุณุชูโูุง ุฏุฑุงูุชโุงูุฏ. ูุฑุญูู ุจู ูุฑุญูู ุชูุถุญ ุฏุงุฏู ุดุฏู. ุจุงุชูุฌู ุจู ูุถุนุช ุดุฏุฏ ููุชุฑูฺฏ ูุงุฒู ุฏููุณุชู ุชุง ุงู ุฑูุดู ูุนุฑู ฺฉูู ุชุง ฺฉูฺฺฉ ุชุฑู ฺฉูฺฉ ฺฉู ุงุฒ ุฏุณุชู ุจุฑูุงุฏ ุฑู ฺฉุฑุฏู ุจุงุดู. ๐

## ฺ ูุงุฒู ุฏุงุฑู
- ุฏูุชุง ุณุฑูุฑ ูููฺฉุณ: ฺฉ ุงุฑุงู (Server1)ุ ฺฉ ุฎุงุฑุฌ (Server2)
- ฺฉ ุฏุงููู ูุงูุน (ูุซูุง `example.com`)
- ุงุจุฒุงุฑูุง ูุงุฒู ุฑู ูุฑ ุฏู ุณุฑูุฑ ู ฺฉูุงูุช:
  ```bash
  sudo apt update
  sudo apt install build-essential pkg-config zlib1g-dev libudns-dev curl dnsutils tcpdump
  ```

---

## ุชูุธู ุฏุงููู ๐
ูุฑุถ ฺฉูุฏ ุฏุงููู `example.com` ุฏุงุฑู:

1. ุฑฺฉูุฑุฏ A (DNS only):
   ```
   ns.example.com. A SERVER2_IP
   ```
2. ุฑฺฉูุฑุฏ NS ุจุฑุง ุฒุฑุฏุงููู ุชููู:
   ```
   t.example.com. NS ns.example.com
   ```

> ูฺฉุชู:
> - ุฏุงููู ฺฉูุชุงู ู ูุฏู ุงูุชุฎุงุจ ฺฉูุฏ ุชุง ูุถุง ุจุดุชุฑ ุจุฑุง ุฏุชุง ูุฑุงูู ุจุงุดุฏ.

---

## ูุตุจ ู ฺฉุงููพุงู Iodine โ๏ธ
```bash
git clone https://github.com/yarrick/iodine.git
cd iodine/src
make
sudo make install
```

---

## ฺฉุงููฺฏ ุณุฑูุฑ ๐ฅ๏ธ
ุฑู Server2 ุงุฌุฑุง ฺฉู:
```bash
sudo iodined -f -c -P secretpassword -l 0.0.0.0 192.168.99.1 t.example.com
```
- `-f`: ูุงฺฏ ุชู ุชุฑููุงู
- `-c`: ฺูุฏ ฺฉูุงูุช ููุฒูุงู
- `-P`: ุฑูุฒ ุชููู
- `-l`: IP bind
- `192.168.99.1`: IP ุชููู
- `t.example.com`: ุฒุฑุฏุงููู

---

## ฺฉุงููฺฏ ฺฉูุงูุช ๐ป
ุฑู Server1 ุง ูุฑ ฺฉูุงูุช ุฏฺฏู:
```bash
sudo iodine -f -r -P secretpassword 8.8.4.4 t.example.com
```
- `-r`: ููุท DNS mode (ุณุฑุนุช ~1โฏKB/s)
- ุจุฏูู `-r`: raw UDP (ุชุง ~30โฏMbps ุชู LAN)
- ูุดู ุจุฌุง 8.8.4.4 ุงุฒ ูุฑ dns ุฏฺฏู ุง ุงุณุชูุงุฏู ฺฉุฑุฏ ู ุงฺฏุฑ ููุดุชู ูุดู ุงู ุขูพุดูุ ุจู ุตูุฑุช ุฏูุงูุช ุงุฒ ุงููู nameserver ุงุณุชูุงุฏู ูุดู.
- ูุดู ุจุฑุง ุงูุชุฎุงุจ nameserver ุงุฒ ุขูพ ุณุฑูุฑ ุฎุงุฑุฌ ูุฒ ุงุณุชูุงุฏู ฺฉุฑุฏ ุงูุง ุฏุฑ ุฒูุงู ููุชุฑูฺฏ ุงูฺฉุงู ุงุฑุชุจุงุท ูุณุชูู ุจุง ุณุฑูุฑ ูุฌูุฏ ูุฏุงุฑู.

---

## ฺฏุฒููโูุง ููู ๐ง
| ฺฏุฒูู     | ฺฉุงุฑฺฉุฑุฏ                                          |
|-----------|--------------------------------------------------|
| `-f`      | foreground                                      |
| `-c`      | ฺูุฏ ฺฉูุงูุช ููุฒูุงู                                |
| `-P pass` | ุฑูุฒ ุชููู                                        |
| `-l IP`   | IP bind ุณุฑูุฑ                                    |
| `-m size` | ุญุฏุงฺฉุซุฑ fragment downstream                      |
| `-M size` | ุญุฏุงฺฉุซุฑ ุทูู hostname                             |
| `-T type` | ููุน query (NULL, TXT, SRV, MX, CNAME, PRIVATE)   |
| `-O codec`| codec downstream (raw, base32, base64, base128)  |
| `-r`      | DNS-only mode                                   |
| `-L 0/1`  | lazy mode ุฎุงููุด/ุฑูุดู                             |
| `-I sec`  | ูุงุตูู ุฐุฑุฎูุงุณุช ูุง (ุฏูุงูุช ต)                          |

---

## ุชุณุช ู ุนุจโุงุจ ๐
1. ุจุฑุฑุณ ุงุฌุงุฏ ุฑุงุจุท dns0:
   ```bash
   ip addr show dns0
   ```
2. ุงุทููุงู ุงุฒ ูพูฺฏ ุจู ุณุฑูุฑ ุชููู:
   ```bash
   ping 192.168.99.1 -I dns0
   ```
3. ูุดุงูุฏู ุชุฑุงูฺฉ DNS:
   ```bash
   sudo tcpdump -n -i any udp port 53
   ```
4. ุฎุทุง BADIP:
   - ูุนูููุง ุจู ุฏูู ุชุบุฑ IP ุงุฒ ุณู ุณุฑูุฑ ุง Time-to-Live ูพุงู ุฑุฎ ูโุฏูุฏ.
   - ุงุณุชูุงุฏู ุงุฒ ฺฏุฒูู `-c` ู ุงูุฒุงุด `-I` ููฺฉู ุงุณุช ูุดฺฉู ุฑุง ฺฉุงูุด ุฏูุฏ.

---

## ฺุทูุฑ ุฏุงููู ุงูุชุฎุงุจ ฺฉููุ
- ุฏุงููู ุจุงุฏ ฺฉูุชุงู ู ฺฉูโุฎุทุง ุจุงุดุฏ ุชุง ุจุฎุด ูุดุฏุงุฑ ู ุฏุงุฏู ุฏุฑ ุฏุงููู ุฌุง ุดูุฏ.
- ุฏุงูููโูุง ูุฏูโุชุฑ ุงุนุชูุงุฏ ุจุดุชุฑ ุฏุฑ ุจู resolverูุง ุฏุงุฑูุฏ.
- ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุต (ูุซู `-` ุง `_`) ุจูพุฑูุฒุฏ.
- ุจุฑุง ุงูุชู ุฏุงูููโูุง ููุงุณุจ ูโุชูุงูุฏ ุงุฒ [domainhunter](https://github.com/threatexpress/domainhunter) ุงุณุชูุงุฏู ฺฉูุฏ.

---

## ุจูููโุณุงุฒ ุณุฑุนุช ๐
- **Raw UDP**: ุชุง ~30โฏMbps ุชู LANุ ุงูุง ูุนูููุง ูุณุฏูุฏ
- **DNS-only**: ุญุฏูุฏ 1โฏKB/s (ููฺฉูู ุชุง 450โฏKB/s ูู ุจุงุดู)
- ุชูุธู ุฏูู `-m`/`-M` ูููู
- `-T NULL` ุง `-T PRIVATE` ุจุฑุง ุจุดุชุฑู ุญุฌู
- `-L1` (lazy) ุชุฃุฎุฑ ฺฉู ูโฺฉูู
- ูุตุจ [unbound](https://nlnetlabs.nl/projects/unbound/about/) ุฑู ฺฉูุงูุช ุจุฑุง ฺฉุงูุด packet loss

---

## ูุซุงู tunnel-in-tunnel ๐
> ุจูุชุฑู ุงุฒ ุฑูุด ูุง ุงุณุชูุงุฏู ุจุดู ฺฉู overhad ู ุง handshake ฺฉูุชุฑ ูุงุฒ ุฏุงุฑูุฏ ุชุง ุงุชุตุงู ูพุงุฏุงุฑ ุชุฑ ู ุณุฑุนุชุฑ ุจุงุดู.

- **SSH SOCKS**:
  ```bash
  ssh -N -D 1080 user@192.168.99.1
  curl --socks5-hostname 127.0.0.1:1080 http://example.com
  ```
- **WireGuard**:
  - ุณุฑูุฑ WG: ุฑู `192.168.99.1:51820`
  - ฺฉูุงูุช: `AllowedIPs=0.0.0.0/0`, `Endpoint=192.168.99.1:51820`
- **XRay (VLESS)**:
  - ุงุณุชูุงุฏู ุงุฒ ุจุฎุด `reverse` ุฏุฑ x-ui

---

## ููุงุณู ุจุง ุฑูุดโูุง ุฏฺฏุฑ (ICMP, DoH)

- **ICMP Tunneling** (ptunnel): ุงู ุฑูุด ูู ูุซู ููู ุฑูุด ูพฺฉุช ูุง ุฑู ุฏุงุฎู ุฑฺฉูุฆุณุช ูุง ping ุจู ุณูุช ุณุฑูุฑ ููุตุฏ ุงุฑุณุงู ูฺฉูู ุงูุง ุงุฎุฑุง ุชุณุช ูุง ฺฏุฑูุชู ุดุฏู ูุดูู ูุฏู ฺฉู ุงู ุฑูุด ูู ุฏุฑ ุจุฑุฎ ููุงุทู ูุณุฏูุฏ ุดุฏ. ุฏุฑ ูุฑุตูุฑุช ูุณุฏูุฏ ฺฉุฑุฏู ping ุงุฎุชูุงู ฺฉูุชุฑ ุฑู ุงูุชุฑูุช ุงุฌุงุฏ ูฺฉูู ุงูุง ูุณุฏูุฏ ฺฉุฑุฏู dns ุจุงุนุซ ุงุฌุงุฏ ุงุฎุชูุงู ุดุฏุฏ ุชุฑ ุฑู ุงูุชุฑูุช ูุดู ู ุงุญุชูุงู ุฏุงุฏู ูุดู ฺฉู ุงู ุงุชูุงู ููุชู ูุฑฺูุฏ ุงุฒ ุงู ุณุณุชู ูุชูุฑูฺฏ ู ุงู ุญุฌู ุงุฒ ุงุฎุชูุงู ุจุนุฏ ูุณุช ฺฉู ุงู ุงุชูุงู ูู ุจูุชู.
- **DNS-over-HTTPS (DoH)**: ุฏุฑุฎูุงุณุชโูุง ุฏุฑ HTTPS ฺฉูพุณููู ูโุดููุฏุ ุณุฑุนุช ุญุฏูุฏ 3โ5 kbps ุจุง ุชุฃุฎุฑ ุจุงูุงุชุฑ ู ูพุงุฏุงุฑ ฺฉูุชุฑ.

> ุฏุฑ ุงุฑุงู ู ุฏุฑ ุฒูุงู ยซIran Accessยป ุงุฎุฑ ุฑูุด dns tunneling ุงูฺฉุงูโูพุฐุฑ ุจูุฏู ุงูุง ุชุถูู ุจุฑุง ุงุฏุงููโุฏุงุฑ ุจูุฏูุด ูุฌูุฏ ูุฏุงุฑุฏ.

---

## ููุงุจุน ๐
- Iodine: https://github.com/yarrick/iodine
- ูุณุชูุฏุงุช ุงุตู: https://code.kryo.se/iodine
- IP over DNS: https://github.com/LauraWartschinski/IPoverDNS
- Domain Hunter: https://github.com/threatexpress/domainhunter

---

## ฺฉุงุฑุจุฑุฏูุง ู ูุญุฏูุฏุชโูุง ๐
ุจุงุชูุฌู ุจู ฺุฒุง ฺฉู ุฏุฏู ุงุฒ ุงู ุฑูุด ุฏุฑ ฺฉุดูุฑโูุง ุฏฺฏู ุง ุจุฑุง ูฺฉ ู ุชุณุช ูููุฐ ู ุง ุจุฑุง ุฏุณุชุฑุณ ุจู ุงูุชุฑูุช ุฏุฑ ูุญุทโูุง ฺฉู ูุงุฒููุฏ ุงุญุฑุงุฒ ููุช ูุงโูุง ูุณุชูุฏ ูุซู ูุฑูุฏฺฏุงูโูุง ุงุณุชูุงุฏู ูุดู. ุงูุง ุฏุฑ ุงุฑุงู ูุชุฃุณูุงูู ุจู ุฏูู ููุชุฑูฺฏ ุดุฏุฏุ ุงู ุฑูุด ุจุดุชุฑ ุจู ุนููุงู ุฑุงู ุฏุณุชุฑุณ ุจู ุงูุชุฑูุช ุขุฒุงุฏ ฺฉุงุฑุจุฑุฏ ูพุฏุง ฺฉุฑุฏู.

ูุฑฺูุฏ ุงู ุฑูุด ูุซู ููู ุฑูุดโูุง ุฏฺฏู ุจุฑุง ุฏุณุชุฑุณ ุจู ุงูุชุฑูุช ุขุฒุงุฏ ฺฉุงุฑ ูโฺฉููุ ุงูุง ุงูฺฉุงู ุจุณุชู ุดุฏู ูู ุฏุงุฑู. ุจุง ุชูุฌู ุจู ููุชุฑูฺฏโูุง ุดุฏุฏุ ููฺฉูู ุญุช ุงุฑุณุงู ุฏุฑุฎูุงุณุชโูุง DNS ูู ุบุฑููฺฉู ุจุดู ู ุงฺฏุฑ ุงู ุงุชูุงู ุจูุชูุ ุขุฎุฑู ุงูุฏูุง ุจุฑุง ุงูุชุฑูุช ุขุฒุงุฏ ุงุฒ ุฏุณุช ูุฑู. ุนููุงู ุจุณุชู ุฏุฑุฎูุงุณุชโูุง DNS ุจุงุนุซ ุงุฎุชูุงู ุดุฏุฏ ุชู ุงูุชุฑูุช ูุดู.

**ุขุง ุงู ุฑูุด ูุงุจู ุชุดุฎุต ูุณุชุดุ** ุจููุ ุงูุง ฺุฌูุฑุด ุชูุถุญ ุฏุงุฏู ููุดู ุชุง ููุชุฑฺ ุญุฏุงูู ุชุง ุฌุง ฺฉู ููฺฉูู ุงู ุฑูุด ุฑู ูุณุฏูุฏ ูฺฉูู (ุง ุฏุฑุชุฑ ูุณุฏูุฏ ฺฉูู). 

---

#                                                                                   ุงูุชุฑูุช ุขุฒุงุฏ ุง ุจุฑุง ููู ุง ูฺฺฉุณ! ๐

> ุงู ุชูุถุญุงุช ุจุฑ ุงุณุงุณ ุชุณุชโูุง ู ููุงูุงุช ูุฎุชูู ุฌูุนโุขูุฑ ุดุฏู. ุงฺฏู ุฌุง ุงุดฺฉุงู ุฏุฏ ุง ุงุฏูโุง ุฏุงุฑ ุฎูุดุญุงู ูโุดู issue ุจุฒู ุง ูพุดููุงุฏุช ุฑู ุจุฏ ุชุง ููฺฏ ุจู ุงูุชุฑูุช ุขุฒุงุฏ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู! โค๏ธ

